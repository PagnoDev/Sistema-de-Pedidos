(()=>{var e={};e.id=504,e.ids=[504],e.modules={440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(1658);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},698:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>l});var s=r(5239),o=r(8088),n=r(8170),i=r.n(n),a=r(893),d={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);r.d(t,d);let l={children:["",{children:["pedido",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2834)),"C:\\Users\\joaov\\Desktop\\drhoxi\\Projeto\\pedidos-api\\client\\ecommerce-frontend\\src\\app\\pedido\\[id]\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4431)),"C:\\Users\\joaov\\Desktop\\drhoxi\\Projeto\\pedidos-api\\client\\ecommerce-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,4413)),"C:\\Users\\joaov\\Desktop\\drhoxi\\Projeto\\pedidos-api\\client\\ecommerce-frontend\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\joaov\\Desktop\\drhoxi\\Projeto\\pedidos-api\\client\\ecommerce-frontend\\src\\app\\pedido\\[id]\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/pedido/[id]/page",pathname:"/pedido/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},881:()=>{},1135:()=>{},2743:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(687),o=r(3210),n=r(6189),i=r(5077),a=r(4486);let d=e=>fetch(e).then(e=>e.json());function l(){let{id:e}=(0,n.useParams)(),[t,r]=(0,o.useState)(""),[l,c]=(0,o.useState)(""),{data:p,error:u,mutate:m}=(0,i.Ay)(`/api/pedidos/${e}`,d),h=async()=>{try{r("Atualizando status...");let t=await fetch(`/api/pedidos/${e}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:l})}),s=await t.json();if(t.ok)r("✅ Status atualizado com sucesso."),m();else{let e=s.detalhe??{};r(`❌ Erro: ${e.message??"Erro ao atualizar status."}
Status atual: ${e.status_atual??"desconhecido"}
Tentando ir para: ${e.tentando_ir_para??"desconhecido"}
Permitidos: ${(e.permitidos??[]).join(", ")||"nenhum"}`)}}catch(e){r("Erro inesperado ao tentar atualizar o status.")}};return(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Detalhes do Pedido"}),u?(0,s.jsx)("p",{className:"text-red-600",children:"Erro ao carregar pedido"}):p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"ID:"})," ",p.id]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"ID do Usu\xe1rio:"})," ",p.id_usuario]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Status:"})," ",p.status]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Total:"})," R$ ",Number(p.total_valor).toFixed(2)]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block mb-2",children:"Atualizar Status"}),(0,s.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"border p-2 rounded mb-2",children:[(0,s.jsx)("option",{value:"",children:"Selecione um status"}),Object.values(a.W).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:h,children:"Atualizar Status"})]}),t&&(0,s.jsx)("p",{className:"mt-4 text-sm text-center whitespace-pre-wrap",children:t}),(0,s.jsx)("h2",{className:"text-xl font-semibold mt-6",children:"Itens:"}),(0,s.jsx)("ul",{className:"list-disc ml-6",children:p.itens.map((e,t)=>(0,s.jsxs)("li",{children:["Produto ID: ",e.id_produto," – Quantidade: ",e.quantidade]},t))})]}):(0,s.jsx)("p",{children:"Carregando..."})]})}},2834:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\joaov\\\\Desktop\\\\drhoxi\\\\Projeto\\\\pedidos-api\\\\client\\\\ecommerce-frontend\\\\src\\\\app\\\\pedido\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\joaov\\Desktop\\drhoxi\\Projeto\\pedidos-api\\client\\ecommerce-frontend\\src\\app\\pedido\\[id]\\page.tsx","default")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3242:(e,t,r)=>{Promise.resolve().then(r.bind(r,2743))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4413:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\joaov\\\\Desktop\\\\drhoxi\\\\Projeto\\\\pedidos-api\\\\client\\\\ecommerce-frontend\\\\src\\\\app\\\\not-found.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\joaov\\Desktop\\drhoxi\\Projeto\\pedidos-api\\client\\ecommerce-frontend\\src\\app\\not-found.tsx","default")},4431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>d});var s=r(7413),o=r(2376),n=r.n(o),i=r(8726),a=r.n(i);r(1135);let d={title:"Create Next App",description:"Generated by create next app"};function l({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${n().variable} ${a().variable} antialiased`,children:e})})}},4433:()=>{},4441:(e,t,r)=>{Promise.resolve().then(r.bind(r,4413))},4486:(e,t,r)=>{"use strict";r.d(t,{W:()=>s});var s=function(e){return e.PENDENTE="pendente",e.PROCESSANDO="processando",e.ENVIADO="enviado",e.ENTREGUE="entregue",e.CANCELADO="cancelado",e}({})},6507:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},7347:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(687);r(3210);var o=r(6189);function n(){return(0,o.useRouter)(),(0,s.jsx)("div",{className:"text-center mt-20 text-lg text-gray-700",children:"P\xe1gina n\xe3o encontrada. Redirecionando para login..."})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9555:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},9593:(e,t,r)=>{Promise.resolve().then(r.bind(r,7347))},9682:(e,t,r)=>{Promise.resolve().then(r.bind(r,2834))}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,923,77],()=>r(698));module.exports=s})();